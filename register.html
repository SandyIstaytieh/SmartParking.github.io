<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Parking - Register</title>
    <link rel="stylesheet" href="styles.css"> <!-- Linked CSS -->
</head>
<body>
    <div class="register-container">
        <!-- Error Messages -->
        <div id="emailOrPhoneError" class="error-message">
            Please enter a valid email or phone number.
        </div>
        <div id="passwordError" class="error-message">
            Password must be at least 6 characters long.
        </div>

        <!-- Registration Form -->
        <form id="registrationForm">
            <!-- Email or Phone Number -->
            <label for="emailOrPhone">Email or Phone Number:</label>
            <div class="input-group">
                <input type="text" id="emailOrPhone" name="emailOrPhone" placeholder="Enter your email or phone number" required>
            </div>

            <!-- Password -->
            <label for="password">Password:</label>
            <div class="input-group">
                <input type="password" id="password" name="password" placeholder="Enter your password" required>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="button">Register</button>
        </form>

        <!-- Links -->
        <p>Already have an account? <a href="register.html">Register here</a></p>
        <p><a href="index.html">Go to Home</a></p>
    </div>

    <!-- Success Message (Hidden by Default) -->
    <div id="successMessage" class="success-message">
        <p>ðŸŽ‰ Registration successful! Redirecting to the homepage...</p>
    </div>

    <!-- JavaScript for Form Submission Effect -->
    <script>
        document.getElementById('registrationForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent form submission

            // Get user input
            const emailOrPhone = document.getElementById('emailOrPhone').value;
            const password = document.getElementById('password').value;

            // Validate email or phone number
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // Basic email regex
            const phoneRegex = /^\+?\d{10,14}$/; // Basic phone regex (e.g., +9611234567)

            if (!emailRegex.test(emailOrPhone) && !phoneRegex.test(emailOrPhone)) {
                document.getElementById('emailOrPhoneError').style.display = 'block'; // Show email/phone error
                return; // Stop further execution
            } else {
                document.getElementById('emailOrPhoneError').style.display = 'none'; // Hide email/phone error
            }

            // Validate password
            if (password.length < 6) {
                document.getElementById('passwordError').style.display = 'block'; // Show password error
                return; // Stop further execution
            } else {
                document.getElementById('passwordError').style.display = 'none'; // Hide password error
            }

            // If validation passes, show success message and redirect
            document.getElementById('successMessage').style.display = 'block';

            // Redirect to QR code page after 3 seconds
            setTimeout(function () {
                window.location.href = 'qr-page.html'; // Redirect to the QR code page
            }, 3000);
        });
    </script>
</body>
</html>
